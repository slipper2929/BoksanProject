<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="org.boksan.dao.ProductDao">
  
  	<!-- 상품분류 select box -->
  	<select id="product_group_select" resultType="org.boksan.model.Product_groupDTO">
  		select * from b_product_group
  	</select>
  	
  	<!-- 상품등록 버튼 -->
	  <insert id="ProductInsert">
	  	insert into b_product(product_name, price, place, business_name, pallet_in_ratio, product_group_code)
	  	values(#{product_name},#{price},#{place},#{business_name}, #{pallet_in_ratio},#{product_group_code})
	  </insert>
	  
	  <!-- 상품분류추가 버튼 -->
	  <insert id="Product_group_addInsert">
	  	insert into b_product_group(product_group_name)
	  	value(#{product_group_name})
	  </insert>
	  
	  <!-- 발주 예상 구매액 -->
	  <select id="price_select" resultType="String">
	  	select price
	  	from b_product
	  	where product_code = #{data}
	  </select>
	  
	  <!-- 상품조회 리스트 -->
	  <select id="piproduct_select" resultType="org.boksan.model.b_productDTO">
	  	SELECT p.*, pg.product_group_name
		FROM b_product p JOIN b_product_group pg
		ON p.product_group_code = pg.product_group_code
	  </select>
	  
	 <!--  <update id="update_product">
	  	UPDATE b_product p JOIN b_product_group pg
		ON p.product_group_code = pg.product_group_code
		SET p.product_name = #{product_name}
			p.product_group_code = #{product_group_code},
			p.place = #{place},
			p.business_name = #{business_name},
			p.price = #{price},
			p.pallet_in_ratio = #{pallet_in_ratio}
		WHERE p.product_code = #{product_code}
	  </update>
	   -->
	   
  </mapper>